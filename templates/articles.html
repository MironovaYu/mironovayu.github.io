{% extends "base.html" %}

{% block title %}Статьи — {{ site.name }}, {{ site.role|title }}{% endblock %}
{% block description %}Статьи {{ site.name }} о саморегуляции, психологии, работе с телом и эмоциями.{% endblock %}

{% block content %}
<!-- Articles Hero -->
<section class="section articles-hero" style="padding-bottom: 1rem;">
    <div class="container">
        <div class="section__header fade-in" style="margin-bottom: 0;">
            <span class="section__label">Блог</span>
            <h1 class="section__title" style="font-size: clamp(2rem, 4vw, 3rem);">Статьи</h1>
            <p class="section__subtitle">
                Полезные материалы о психологии, саморегуляции и работе с телом
            </p>
        </div>
    </div>
</section>

<!-- Articles Grid -->
<section class="section" style="padding-top: 0;">
    <div class="container">
        {% if articles %}
        <div class="articles-grid">
            {% for art in articles %}
            <article class="article-card fade-in">
                <a href="{{ url_for('article', slug=art.slug) }}" class="article-card__image">
                    {% if art.image %}
                    <img src="{{ url_for('static', filename=art.image) }}" alt="{{ art.title }}" loading="lazy">
                    {% else %}
                    <div class="article-card__placeholder">
                        <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1" opacity="0.3"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                    </div>
                    {% endif %}
                </a>
                <div class="article-card__body">
                    <h2 class="article-card__title">
                        <a href="{{ url_for('article', slug=art.slug) }}">{{ art.title }}</a>
                    </h2>
                    <p class="article-card__excerpt">{{ art.excerpt }}</p>
                    <a href="{{ url_for('article', slug=art.slug) }}" class="article-card__link">
                        Читать далее
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
        {% else %}
        <div class="articles-empty fade-in">
            <p>Статьи скоро появятся. Следите за обновлениями!</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- CTA -->
<section class="cta">
    <div class="container fade-in">
        <h2>{{ data.articles_cta.title }}</h2>
        <p>{{ data.articles_cta.text }}</p>
        <a href="{{ site.telegram_link }}" class="btn btn--telegram btn--lg" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"/></svg>
            {{ data.articles_cta.button_text }}
        </a>
    </div>
</section>
{% endblock %}
